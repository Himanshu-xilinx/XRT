#
# Copyright (C) 2019-2020 Xilinx, Inc. All rights reserved.
#
# Authors:
#
# This software is licensed under the terms of the GNU General Public
# License version 2, as published by the Free Software Foundation, and
# may be copied, distributed, and modified under those terms.
#
# This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#

LINUX_FLAVOR    := $(shell lsb_release -is)
LINUX_VERSION   := $(shell lsb_release -rs)

ifeq ($(LINUX_FLAVOR),SUSE)
major :=$(shell echo "$(LINUX_VERSION).0" | cut -d. -f1)
minor :=$(shell echo "$(LINUX_VERSION).0" | cut -d. -f2)
code := $(shell expr $(major) \* 256 + $(minor))
ccflags-y += -DSUSE_RELEASE_CODE=$(code)
endif
